(function(e){function n(n){for(var r,u,a=n[0],s=n[1],c=n[2],d=0,f=[];d<a.length;d++)u=a[d],Object.prototype.hasOwnProperty.call(o,u)&&o[u]&&f.push(o[u][0]),o[u]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(n);while(f.length)f.shift()();return i.push.apply(i,c||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],r=!0,a=1;a<t.length;a++){var s=t[a];0!==o[s]&&(r=!1)}r&&(i.splice(n--,1),e=u(u.s=t[0]))}return e}var r={},o={app:0},i=[];function u(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,u),t.l=!0,t.exports}u.m=e,u.c=r,u.d=function(e,n,t){u.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,n){if(1&n&&(e=u(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(u.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)u.d(t,r,function(n){return e[n]}.bind(null,r));return t},u.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(n,"a",n),n},u.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},u.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=n,a=a.slice();for(var c=0;c<a.length;c++)n(a[c]);var l=s;i.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"034f":function(e,n,t){"use strict";var r=t("85ec"),o=t.n(r);o.a},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("2b0e"),o=(t("5363"),t("ce5b")),i=t.n(o);t("bf40");r["default"].use(i.a);var u=new i.a({icons:{iconfont:"mdi"}}),a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-app",{attrs:{id:"app"}},[t("v-app-bar",{attrs:{app:"",color:"deep-purple accent-4",dark:"",height:"80"}},[t("v-toolbar-title",[e._v("Kamome Sample App")])],1),t("v-main",[t("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-left"},[e._v("Message")])])]),t("tbody",e._l(e.messages,(function(n,r){return t("tr",{key:r,on:{click:function(n){return e.onClickMessage(r)}}},[t("td",[e._v(e._s(n))])])})),0)]},proxy:!0}])}),t("v-bottom-sheet",{scopedSlots:e._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[t("v-btn",e._g(e._b({staticClass:"menu-button",attrs:{color:"deep-purple accent-4",dark:""}},"v-btn",o,!1),r),[e._v(" Menu ")])]}}]),model:{value:e.sheet,callback:function(n){e.sheet=n},expression:"sheet"}},[t("v-list",[t("v-btn",{staticClass:"close-menu-button",attrs:{fab:"",dark:"",small:"",color:"pink"},on:{click:e.onCloseMenu}},[t("v-icon",[e._v("mdi-minus")])],1),t("v-subheader",[e._v("Menu")]),e._l(e.tiles,(function(n){return t("v-list-item",{key:n.key,staticClass:"center",on:{click:function(t){return e.onClickSheetItem(n.key)}}},[t("v-list-item-title",[e._v(e._s(n.title))])],1)}))],2)],1)],1)],1)},s=[];t("99af"),t("c975"),t("b0c0"),t("d3b7"),t("ac1f"),t("25f0"),t("5319");window.Kamome=function(e){var n={requestTimeout:"RequestTimeout",rejected:"Rejected",canceled:"Canceled"},t=function(){var e=function(){return navigator.userAgent.toLowerCase().indexOf("android")>0&&"kamomeAndroid"in window},n=function(e){return setTimeout((function(){return window.kamomeAndroid.kamomeSend(e)}),0)};return{hasClient:e,_send:n}}(),r=function(){var e=function(){return"webkit"in window&&!!window.webkit.messageHandlers.kamomeSend},n=function(e){return setTimeout((function(){return window.webkit.messageHandlers.kamomeSend.postMessage(e)}),0)};return{hasClient:e,_send:n}}(),o=function(){var e={},n=function(n,t){return e[n]=t,this},t=function(n){return n in e},r=function(n){return setTimeout((function(){var t=function(e){return g(e?JSON.stringify(e):null,n.id)},r=function(e){return x(e,n.id)};e[n.name](n.data,t,r)}),0)};return{addCommand:n,_hasCommand:t,_execCommand:r}}(),i={},u=[],a=!1,s=1e4,c=function(e){return s=e,this},l=function(e,n){return i[e]=n,this},d=function(e){return e in i&&delete i[e],this},f=function(n,t,r){return null!==r&&r!==e||(r=s),new Promise((function(e,o){u.push({id:v(),name:n,data:t,timeout:r,resolve:e,reject:o}),p()}))},m=function(e){if(0!==u.length){a=!1;var t=e?":"+e:"";h((function(e){return e.reject(n.canceled+":"+e.name+t)}))}},p=function(){if(0!==u.length&&!a){a=!0;var e=u[0],i=JSON.stringify({name:e.name,data:e.data,id:e.id});r.hasClient()?r._send(i):t.hasClient()?t._send(i):o._hasCommand(e.name)&&o._execCommand(e),e.timeout>0&&setTimeout((function(){a=!1,u.length>0&&u[0].id===e.id&&h((function(e){return e.reject(n.requestTimeout+":"+e.name)}))}),e.timeout)}},h=function(e){e(u.shift()),p()},v=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=16*Math.random()|0,t="x"===e?n:3&n|8;return t.toString(16)})).toLowerCase()},g=function(e,n){if(a=!1,u.length>0&&u[0].id===n){var t=e?JSON.parse(e):null;h((function(e){return e.resolve(t)}))}return null},x=function(e,t){if(a=!1,u.length>0&&u[0].id===t){var r=e?":"+e:"";h((function(e){return e.reject(n.rejected+":"+e.name+r)}))}return null},b=function(e,n,t){return e in i&&new Promise((function(t,r){var o=i[e];o(n?JSON.parse(n):null,t,r)})).then((function(e){return f(t,{result:e,success:!0})})).catch((function(e){return f(t,{error:e,success:!1})})),null};return{Error:n,android:t,iOS:r,browser:o,setDefaultRequestTimeout:c,addReceiver:l,removeReceiver:d,send:f,cancelCurrentRequest:m,onComplete:g,onError:x,onReceive:b}}();var c=window.Kamome,l={name:"App",components:{},data:function(){return{sheet:!1,tiles:[{key:1,title:"Send Data to Native"},{key:2,title:"Error from Native"},{key:3,title:"Timeout Sample"},{key:4,title:"Cancel Request"},{key:5,title:"Non-existent Command"},{key:6,title:"Hook Sample"}],count:0,messages:[]}},methods:{onClickSheetItem:function(e){var n=this;1===e?c.send("echo",{message:"Hello World! ("+ ++this.count+")"}).then((function(e){n.messages.push(e.message)})).catch((function(e){n.messages.push(e)})):2===e?c.send("echoError").then((function(e){n.messages.push(e.messages)})).catch((function(e){n.messages.push(e)})):3===e?c.send("tooLong").catch((function(e){return n.messages.push(e)})):4===e?c.cancelCurrentRequest():5===e?c.send("deleteUser").catch((function(e){return n.messages.push(e)})):6===e&&c.send("getScore").then((function(e){return n.messages.push("Score: ".concat(e.score," Rank: ").concat(e.rank))}))},onCloseMenu:function(){this.sheet=!1},onClickMessage:function(e){window.console.log("[".concat(e,"] ").concat(this.messages[e]))}},created:function(){var e=this;c.setDefaultRequestTimeout(3e3),c.addReceiver("greeting",(function(n,t){e.messages.push(n.greeting),setTimeout((function(){t("OK!")}),1e3)})),c.browser.addCommand("echo",(function(e,n){n({message:e["message"]})})).addCommand("echoError",(function(e,n,t){t("Echo Error!")})).addCommand("tooLong",(function(e,n){setTimeout((function(){n()}),3e4)})).addCommand("getUser",(function(e,n){n({name:"Brad"})})).addCommand("getScore",(function(e,n){n({score:90,rank:2})})).addCommand("getAvg",(function(e,n){n({avg:68})}))}},d=l,f=(t("034f"),t("2877")),m=Object(f["a"])(d,a,s,!1,null,null,null),p=m.exports;r["default"].config.productionTip=!1,new r["default"]({vuetify:u,render:function(e){return e(p)}}).$mount("#app")},"85ec":function(e,n,t){}});
//# sourceMappingURL=app.b0138a1b.js.map